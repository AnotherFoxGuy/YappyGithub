<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"ChannelConf.js.html":{"id":"ChannelConf.js.html","title":"Source: ChannelConf.js","body":" Yappy, the Github Monitor Classes ChannelConfCollectionLoggerServerConfUtil Source: ChannelConf.js const db = require('sqlite'); const path = require('path'); const dbPath = path.resolve(__dirname, '../db/channelconf.sqlite'); const Collection = require('./Collection'); const Log = require('./Logger').Logger; class ChannelConfItem { constructor(client, config) { this._client = client; for (let key in config) { if (config.hasOwnProperty(key)) { this[key] = config[key]; } } } delete() { return this._client.destroy(this.channel_id); } } /** * A channel configuration class to add, set, delete repo events config from channels * @extends Collection */ class ChannelConf extends Collection { /** * Inits the channel configuration by getting database rows and setting them to `channelconf` variable * @return void */ init(bot) { let conf = this; bot.on('guildDelete', (guild) =&gt; { guild.channels.array().forEach(channel =&gt; { if (!conf.find('channel_id', channel.id)) return false; conf.delete(channel.id); }); }); bot.on('channelDelete', (channel) =&gt; { if (!conf.find('channel_id', channel.id)) return false; conf.delete(channel.id); }); return db.open(dbPath).then(() =&gt; { return db.all(`SELECT * FROM channel_configs`); }).then(rows =&gt; { for (const row of rows) this.set(row.channel_id, new ChannelConfItem(conf, row)); }); } /** * Add a channel's webhooks repo thingy * @param {String} channel_id The channel id for the repo's webhooks * @param {String} repo The repo's full name, i.e. hydrabolt/discord.js */ add(channel_id, repo) { let conf = this; return new Promise((resolve, reject) =&gt; { if (conf.has(channel_id)) return reject('Channel already has github repo webhooks configured'); db.open(dbPath).then(() =&gt; { db.run(`INSERT INTO &quot;channel_configs&quot; (channel_id, repo) VALUES (?, ?)`, [channel_id, repo]).then(() =&gt; { conf.set(channel_id, new ChannelConfItem(conf, { channel_id, repo })); resolve({ channel_id, repo }); }).catch(reject); }).catch(reject); }); } /** * Get all the channels for a specific repo * @param {String} repo The repo's full name to look up * @return {Object[]} An array of all the channel ids and repos as an object, i.e. [ { channel_id: 'CHANNELID', repo: 'hydrabolt/discord.js'} ] */ get(repo) { return this.findAll('repo', repo); } /** * Delete a spefic channel's repo configuration * @param {String} channel_id The channel id for which to delete the info * @return {Promise&lt;Collection&gt;} Returns a promise resolving all the channel conf */ destroy(channel_id) { let conf = this; return new Promise((resolve, reject) =&gt; { if (!conf.has(channel_id)) return reject('Channel doesn\\'t have github repo events to delete'); db.open(dbPath).then(() =&gt; { db.run(`DELETE FROM channel_configs WHERE channel_id = ${channel_id}`).then(() =&gt; { conf.delete(channel_id); resolve(conf); }).catch(reject); }).catch(reject); }); } } module.exports = new ChannelConf(); × Search results Close "},"Collection.js.html":{"id":"Collection.js.html","title":"Source: Collection.js","body":" Yappy, the Github Monitor Classes ChannelConfCollectionLoggerServerConfUtil Source: Collection.js /** * A utility class to help make it easier to access the data stores * @extends {Map} */ class Collection extends Map { constructor(iterable) { super(iterable); this._array = null; this._keyArray = null; } set(key, val) { super.set(key, val); this._array = null; this._keyArray = null; } delete(key) { super.delete(key); this._array = null; this._keyArray = null; } /** * Creates an ordered array of the values of this collection, and caches it internally. The array will only be * reconstructed if an item is added to or removed from the collection, or if you add/remove elements on the array. * @returns {Array} * @example * // identical to: * Array.from(collection.values()); */ array() { if (!this._array || this._array.length !== this.size) this._array = Array.from(this.values()); return this._array; } /** * Creates an ordered array of the keys of this collection, and caches it internally. The array will only be * reconstructed if an item is added to or removed from the collection, or if you add/remove elements on the array. * @returns {Array} * @example * // identical to: * Array.from(collection.keys()); */ keyArray() { if (!this._keyArray || this._keyArray.length !== this.size) this._keyArray = Array.from(this.keys()); return this._keyArray; } /** * Returns the first item in this collection. * @returns {*} */ first() { return this.values().next().value; } /** * Returns the first key in this collection. * @returns {*} */ firstKey() { return this.keys().next().value; } /** * Returns the last item in this collection. This is a relatively slow operation, * since an array copy of the values must be made to find the last element. * @returns {*} */ last() { const arr = this.array(); return arr[arr.length - 1]; } /** * Returns the last key in this collection. This is a relatively slow operation, * since an array copy of the keys must be made to find the last element. * @returns {*} */ lastKey() { const arr = this.keyArray(); return arr[arr.length - 1]; } /** * Returns a random item from this collection. This is a relatively slow operation, * since an array copy of the values must be made to find a random element. * @returns {*} */ random() { const arr = this.array(); return arr[Math.floor(Math.random() * arr.length)]; } /** * Returns a random key from this collection. This is a relatively slow operation, * since an array copy of the keys must be made to find a random element. * @returns {*} */ randomKey() { const arr = this.keyArray(); return arr[Math.floor(Math.random() * arr.length)]; } /** * Returns an array of items where `item[prop] === value` of the collection * @param {string} prop The property to test against * @param {*} value The expected value * @returns {array} * @example * collection.findAll('username', 'Bob'); */ findAll(prop, value) { if (typeof prop !== 'string') throw new TypeError('Key must be a string.'); if (typeof value === 'undefined') throw new Error('Value must be specified.'); const results = []; for (const item of this.values()) { if (item[prop] === value) results.push(item); } return results; } /** * Returns a single item where `item[prop] === value`, or the given function returns `true`. * In the latter case, this is identical to * [Array.find()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find). * @param {string|function} propOrFn The property to test against, or the function to test with * @param {*} [value] The expected value - only applicable and required if using a property for the first argument * @returns {*} * @example * collection.find('username', 'Bob'); * @example * collection.find(val =&gt; val.username === 'Bob'); */ find(propOrFn, value) { if (typeof propOrFn === 'string') { if (typeof value === 'undefined') throw new Error('Value must be specified.'); for (const item of this.values()) { if (item[propOrFn] === value) return item; } return null; } else if (typeof propOrFn === 'function') { for (const [key, val] of this) { if (propOrFn(val, key, this)) return val; } return null; } else { throw new Error('First argument must be a property string or a function.'); } } /* eslint-disable max-len */ /** * Returns the key of the item where `item[prop] === value`, or the given function returns `true`. * In the latter case, this is identical to * [Array.findIndex()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex). * @param {string|function} propOrFn The property to test against, or the function to test with * @param {*} [value] The expected value - only applicable and required if using a property for the first argument * @returns {*} * @example * collection.findKey('username', 'Bob'); * @example * collection.findKey(val =&gt; val.username === 'Bob'); */ /* eslint-enable max-len */ findKey(propOrFn, value) { if (typeof propOrFn === 'string') { if (typeof value === 'undefined') throw new Error('Value must be specified.'); for (const [key, val] of this) { if (val[propOrFn] === value) return key; } return null; } else if (typeof propOrFn === 'function') { for (const [key, val] of this) { if (propOrFn(val, key, this)) return key; } return null; } else { throw new Error('First argument must be a property string or a function.'); } } /** * Returns true if the collection has an item where `item[prop] === value` * @param {string} prop The property to test against * @param {*} value The expected value * @returns {boolean} * @example * if (collection.exists('username', 'Bob')) { * console.log('user here!'); * } */ exists(prop, value) { return Boolean(this.find(prop, value)); } /** * Identical to * [Array.filter()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter), * but returns a Collection instead of an Array. * @param {function} fn Function used to test (should return a boolean) * @param {Object} [thisArg] Value to use as `this` when executing function * @returns {Collection} */ filter(fn, thisArg) { if (thisArg) fn = fn.bind(thisArg); const collection = new Collection(); for (const [key, val] of this) { if (fn(val, key, this)) collection.set(key, val); } return collection; } /** * Identical to * [Array.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map). * @param {function} fn Function that produces an element of the new array, taking three arguments * @param {*} [thisArg] Value to use as `this` when executing function * @returns {array} */ map(fn, thisArg) { if (thisArg) fn = fn.bind(thisArg); const arr = new Array(this.size); let i = 0; for (const [key, val] of this) arr[i++] = fn(val, key, this); return arr; } /** * Identical to * [Array.some()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some). * @param {function} fn Function used to test (should return a boolean) * @param {Object} [thisArg] Value to use as `this` when executing function * @returns {boolean} */ some(fn, thisArg) { if (thisArg) fn = fn.bind(thisArg); for (const [key, val] of this) { if (fn(val, key, this)) return true; } return false; } /** * Identical to * [Array.every()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/every). * @param {function} fn Function used to test (should return a boolean) * @param {Object} [thisArg] Value to use as `this` when executing function * @returns {boolean} */ every(fn, thisArg) { if (thisArg) fn = fn.bind(thisArg); for (const [key, val] of this) { if (!fn(val, key, this)) return false; } return true; } /** * Identical to * [Array.reduce()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce). * @param {function} fn Function used to reduce * @param {*} [startVal] The starting value * @returns {*} */ reduce(fn, startVal) { let currentVal = startVal; for (const [key, val] of this) currentVal = fn(currentVal, val, key, this); return currentVal; } /** * Combines this collection with others into a new collection. None of the source collections are modified. * @param {Collection} collections Collections to merge * @returns {Collection} * @example const newColl = someColl.concat(someOtherColl, anotherColl, ohBoyAColl); */ concat(...collections) { const newColl = new this.constructor(); for (const [key, val] of this) newColl.set(key, val); for (const coll of collections) { for (const [key, val] of coll) newColl.set(key, val); } return newColl; } /** * If the items in this collection have a delete method (e.g. messages), invoke * the delete method. Returns an array of promises * @returns {Promise[]} */ deleteAll() { const returns = []; for (const item of this.values()) { if (item.delete) returns.push(item.delete()); } return returns; } } module.exports = Collection; × Search results Close "},"Logger.js.html":{"id":"Logger.js.html","title":"Source: Logger.js","body":" Yappy, the Github Monitor Classes ChannelConfCollectionLoggerServerConfUtil Source: Logger.js 'use strict'; const chalk = require('chalk'); const EventEmitter = require(&quot;events&quot;).EventEmitter; const moment = require('moment'); const util = require('util'); const LogDNA = require('logdna'); const options = { app: 'DiscordJS Rewrite Trello' } const logger = process.env.LOGDNA_KEY ? LogDNA.createLogger(process.env.LOGDNA_KEY, options) : null; const icons = { error: '🔥 ', debug: '⚙ ', info: '🆗 ', message: '💁' }; let socket; let logs = []; /** * A Logger to replace `console.log`. * It logs to the console, web, AND LogDNA */ class Logger { constructor() { this.emitter = new EventEmitter(); this.debug = this.debug.bind(this); this.info = this.info.bind(this); this.error = this.error.bind(this); this.message = this.message.bind(this); this.github = this.github.bind(this); this._token = process.env.DISCORD_TESTING_BOT_TOKEN || process.env.TOKEN; } /** * Debug it like you would `console.log` it ;) * @param {Mixed} ...args - all the arguments */ debug(...args) { this.log('debug', ...args); } /** * Log something about github, self-explanatory (right?) * @param {Mixed} ...args - all the arguments */ github(...args) { this.log('github', ...args); } /** * Give me some info, pls * @param {Mixed} ...args - all the arguments */ info(...args) { this.log('info', ...args); } /** * You gotta error it to me ;(( * @param {Mixed} ...args - all the arguments */ error(msg) { if (typeof msg == 'object' &amp;&amp; msg.stack) { msg.stack = msg.stack.replace(__dirname, './').replace(new RegExp(this._token, 'g'), 'TOKEN_WAS_HERE'); } this.log('error', msg); } /** * Log a message! * @param {Mixed} ...args - all the arguments */ message(msg) { this.log('message', msg); } /** * * @param {String} event - what kind of log * @param {cb} cb - callback */ on(event, cb) { this.emitter.on(event, cb); } // inside /** * Log, with the level and the message * @param {String} level - log level, i.e: error * @param {Mixed} message - actual message, ya know? * @private */ log(level, msg) { let args = [...arguments].slice(1); let message = util.format(...args).replace(new RegExp(this._token, 'g'), 'TOKEN_WAS_HERE'); let log = `[${moment().format(&quot;MM/D/YY HH:mm:ss&quot;)}] ${icons[level]} ${level}: ${util.format(...args)}`; if (logger) logger.log(util.format(...args), level); console.log(log); this.emit(log); } /** * Get all the logs from the latest run * @return {Array} logs - Logs, hhm.. */ get logs() { return logs; } /** * Emit to socket.io and push to the logs * @private */ emit(log) { logs.push(log.replace(/(\\[)\\w+(m)/g, '')); if (!socket) return false; socket.emit('log', log.replace(/(\\[)\\w+(m)/g, '')); } } module.exports = { Logger: new Logger(), Socket: io =&gt; { socket = exports.Socket = module.exports.Socket = io; return socket; } }; × Search results Close "},"ServerConf.js.html":{"id":"ServerConf.js.html","title":"Source: ServerConf.js","body":" Yappy, the Github Monitor Classes ChannelConfCollectionLoggerServerConfUtil Source: ServerConf.js const db = require('sqlite'); const path = require('path'); const dbPath = path.resolve(__dirname, '../db/serverconf.sqlite'); const Collection = require('./Collection'); const Log = require('./Logger').Logger; const default_conf = { server_id: null, server_name: null, prefix: 'G! ', repo: null, &quot;default&quot;: true } const conf_keys = ['prefix', 'repo'];; class ServerConfItem { constructor(client, config) { this._client = client; for (let key in config) { if (config.hasOwnProperty(key)) { this[key] = config[key]; } } } delete() { return this._client.destroy(this.server_id); } set(key, value) { return this._client.change(this.server_id, key, value); } } /** * A channel configuration class to add, set, delete repo events config from channels * @extends Collection */ class ServerConf extends Collection { /** * Inits the guilds configuration by getting database rows, and initializes guilds that don't have config yet * @return void */ init(bot) { let conf = this; db.open(dbPath).then(() =&gt; { return db.all(`SELECT * FROM server_configs`); }).then(rows =&gt; { for (const row of rows) conf.set(row.server_id, new ServerConfItem(conf, row)); for (const guild of bot.guilds) { if (!conf.has(guild[1].id)) { conf.add(guild[1]).then(config =&gt; { conf.set(guild[1].id, new ServerConfItem(conf, config)); }).catch(Log.error); } } }).catch(err =&gt; Log.error(err)); this._bot = bot; bot.on('guildDelete', (guild) =&gt; { if (!conf.has(guild.id)) return false; conf.destroy(guild.id); }); bot.on('guildCreate', (guild) =&gt; { if (conf.has(guild.id)) return false; conf.add(guild); }); } /** * Create guild config * @param {String} guild The guild's object * @return {Promise&lt;Object&gt;} */ add(guild) { let conf = this; Log.debug(`Adding ${guild.name} to server conf..`); return new Promise((resolve, reject) =&gt; { if (conf.has(guild.id)) return reject('Server is already in the configuration'); db.open(dbPath).then(() =&gt; { db.run(`INSERT INTO &quot;server_configs&quot; (server_id, server_name, prefix, repo) VALUES (?, ?, ?, ?)`, [guild.id, guild.name, default_conf.prefix, default_conf.repo]).then(() =&gt; { resolve({ server_id: guild.id, server_name: guild.name, prefix: default_conf.prefix, repo: default_conf.repo }); }).catch(reject); }).catch(reject); }); } /** * Get the server config for a spefic server * @param {String} server_id The channel's id * @return {ServerConfig} The server's config */ grab(guild) { if (!guild) return false; let config = this; if(config.has(guild.id)) { let server_conf = config.get(guild.id); const conf = {}; if (server_conf) { for (let key in server_conf) { if (key !== '_client') { if (server_conf[key]) { conf[key] = server_conf[key]; } else { conf[key] = default_conf[key]; } } } conf[&quot;default&quot;] = false; } return new ServerConfItem(config, conf); } else return new ServerConfItem(config, default_conf); } change(guild, key, value) { let conf = this; let args = arguments; return new Promise((resolve, reject) =&gt; { // fml key = key &amp;&amp; key.replace ? key.replace(/[';]/g, '') : key; value = value &amp;&amp; value.replace ? value.replace(/[';]/g, '') : value; if (!key || (!value &amp;&amp; key !== 'repo')) return reject(`❌ Value or key hasn't been provided. Key: \\`${key}\\`. Value: \\`${value}\\``); if (!value) value = null; guild = typeof guild == 'object' ? guild : conf._bot.guilds.get(guild); let server_id = guild.id; Log.debug(server_id); if (!conf.has(server_id)) { return reject(`❌ The server **${guild.name}** was not found while trying to set config \\`${key}\\` to \\`${value}\\``); } let thisconf = conf.get(guild.id); if (['server_id', 'server_name'].includes(key)) return reject(`❌ The key \\`${key}\\` is read-only.`); if (!conf_keys.includes(key)) return reject(`❌ The key \\`${key}\\` doesn't exist.`); thisconf[key] = value; conf.set(server_id, thisconf); if (isNaN(value)) value = `'${value}'`; let query = `UPDATE &quot;server_configs&quot; SET ${key} = ${value} WHERE server_id = '${server_id}'`; db.open(dbPath).then(() =&gt; { return db.run(query); }).then(() =&gt; { resolve(`✅ Successfully set config key \\`${key}\\` to \\`${value}\\``) }).catch((e) =&gt; { Log.error(e); reject(`❌ Unable to update database key.`); }); }); } /** * Delete a spefic server's repo configuration * @param {String} server_id The channel id for which to delete the info * @return {Promise&lt;Collection&gt;} Returns a promise resolving all the channel conf */ destroy(server_id) { let conf = this; return new Promise((resolve, reject) =&gt; { if (!conf.has(server_id)) return reject('Server doesn\\'t have any config to delete'); db.open(dbPath).then(() =&gt; { db.run(`DELETE FROM server_configs WHERE server_id = ${server_id}`).then(() =&gt; { conf.delete(server_id); resolve(conf); }).catch(reject); }).catch(reject); }); } } module.exports = new ServerConf(); × Search results Close "},"Util.js.html":{"id":"Util.js.html","title":"Source: Util.js","body":" Yappy, the Github Monitor Classes ChannelConfCollectionLoggerServerConfUtil Source: Util.js /** Contains general utility methods */ class Util { /** * Paginate an array of items * @param {Object[]} items - An array of items to paginate * @param {number} [page=1] - The page to select * @param {number} [pageLength=10] - The number of items per page * @return {Object} The resulting paginated object * @property {Object[]} items - The chunk of items for the current page * @property {number} page - The current page * @property {number} maxPage - The maximum page * @property {number} pageLength - The numer of items per page * @property {string} pageText - The current page string (&quot;page x of y&quot;) * @see {@link BotUtil#paginate} */ Paginate(items, page = 1, pageLength = 10) { const maxPage = Math.ceil(items.length / pageLength); if(page &lt; 1) page = 1; if(page &gt; maxPage) page = maxPage; let startIndex = (page - 1) * pageLength; return { items: items.length &gt; pageLength ? items.slice(startIndex, startIndex + pageLength) : items, page: page, maxPage: maxPage, pageLength: pageLength, pageText: `page ${page} of ${maxPage}` }; } /** * Search for matches in a list of items * @param {Object[]} items - An array of items to search in * @param {string} searchString - The string to search for * @param {SearchOptions} options - An options object * @return {Object[]} The matched items * @see {@link BotUtil#search} */ Search(items, searchString, { property = 'name', searchInexact = true, searchExact = true, useStartsWith = false } = {}) { if(!items || items.length === 0) return []; if(!searchString) return items; const lowercaseSearch = searchString.toLowerCase(); let matchedItems; // Find all items that start with or include the search string if(searchInexact) { if (useStartsWith &amp;&amp; searchString.length === 1) { matchedItems = items.filter(element =&gt; String(property ? element[property] : element) .normalize('NFKD') .toLowerCase() .startsWith(lowercaseSearch)); } else { matchedItems = items.filter(element =&gt; String(property ? element[property] : element) .normalize('NFKD') .toLowerCase() .includes(lowercaseSearch)); } } else { matchedItems = items; } // See if any are an exact match if(searchExact &amp;&amp; matchedItems.length &gt; 1) { const exactItems = matchedItems.filter(element =&gt; String(property ? element[property] : element).normalize('NFKD').toLowerCase() === lowercaseSearch); if(exactItems.length &gt; 0) return exactItems; } return matchedItems; } /** * Add padding to the right of a string * @param {String} string - The string to pad * @param {Integer} length - Length of final string * @return {String} The string with padding on the right */ Pad(string, length) { return string + ' '.repeat(length - string.length); } /** * Escapes Markdown in the string * @param {string} text - The text to escape * @returns {string} The escaped text */ EscapeMarkdown(text) { return text.replace(/\\\\(\\*|_|`|~|\\\\)/g, '$1').replace(/(\\*|_|`|~|\\\\)/g, '\\\\$1'); } } module.exports = new Util(); × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Yappy, the Github Monitor Classes ChannelConfCollectionLoggerServerConfUtil Classes Classes ChannelConf Collection Logger ServerConf Util × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" Yappy, the Github Monitor Classes ChannelConfCollectionLoggerServerConfUtil discord-bot-trello-discordjs-rewrite 1.0.0 Yappy, the Github Monitor Monitor your github repos by adding this bot to your server, set up a channel for it, and don't miss any events! HelpJoin our Discord server at https://discord.gg/HHqndMG CommandsPrefixes are G! (with space), custom prefix set up, or mention the bot. Util: help - a help command... yeah :P invite - how to invite the bot and set up github events! clean - cleans the bot's messages found in the last 100 messages ping - uh... ping? pong! stats - shows the stats of the bot... what else? Github: issues search &lt;query&gt; - search issues by any field in the global repo issue &lt;number&gt; - gives info about that specific issue in the global repo pr search &lt;query&gt; - search pull requests by any field in the global repo pr &lt;number&gt; - gives info about that specific pr in the global repo release &lt;query&gt; - gives info about a release that matches that query in its tag in the global repo Admin: conf [view] - views the server's config conf get [key] - gets a specific config key in the server's config conf set &lt;key&gt; [value] - sets the key to the value, repo's value may be none to disable init &lt;repo&gt; - initialize repo events on channel remove - remove repo events on channel × Search results Close "},"ChannelConf.html":{"id":"ChannelConf.html","title":"Class: ChannelConf","body":" Yappy, the Github Monitor Classes ChannelConfCollectionLoggerServerConfUtil Class: ChannelConf ChannelConf A channel configuration class to add, set, delete repo events config from channels new ChannelConf() Source: ChannelConf.js, line 29 Extends Collection Methods add(channel_id, repo) Add a channel's webhooks repo thingy Parameters: Name Type Description channel_id String The channel id for the repo's webhooks repo String The repo's full name, i.e. hydrabolt/discord.js Source: ChannelConf.js, line 62 array() Creates an ordered array of the values of this collection, and caches it internally. The array will only be reconstructed if an item is added to or removed from the collection, or if you add/remove elements on the array. Inherited From: Collection#array Source: Collection.js, line 32 Returns: Type Array Example // identical to: Array.from(collection.values()); concat(collections) Combines this collection with others into a new collection. None of the source collections are modified. Parameters: Name Type Argument Description collections Collection &lt;repeatable&gt; Collections to merge Inherited From: Collection#concat Source: Collection.js, line 279 Returns: Type Collection Example const newColl = someColl.concat(someOtherColl, anotherColl, ohBoyAColl); deleteAll() If the items in this collection have a delete method (e.g. messages), invoke the delete method. Returns an array of promises Inherited From: Collection#deleteAll Source: Collection.js, line 293 Returns: Type Array.&lt;Promise&gt; destroy(channel_id) Delete a spefic channel's repo configuration Parameters: Name Type Description channel_id String The channel id for which to delete the info Source: ChannelConf.js, line 90 Returns: Returns a promise resolving all the channel conf Type Promise.&lt;Collection&gt; every(fn [, thisArg]) Identical to Array.every(). Parameters: Name Type Argument Description fn function Function used to test (should return a boolean) thisArg Object &lt;optional&gt; Value to use as this when executing function Inherited From: Collection#every Source: Collection.js, line 252 Returns: Type boolean exists(prop, value) Returns true if the collection has an item where item[prop] === value Parameters: Name Type Description prop string The property to test against value * The expected value Inherited From: Collection#exists Source: Collection.js, line 194 Returns: Type boolean Example if (collection.exists('username', 'Bob')) { console.log('user here!'); } filter(fn [, thisArg]) Identical to Array.filter(), but returns a Collection instead of an Array. Parameters: Name Type Argument Description fn function Function used to test (should return a boolean) thisArg Object &lt;optional&gt; Value to use as this when executing function Inherited From: Collection#filter Source: Collection.js, line 206 Returns: Type Collection find(propOrFn [, value]) Returns a single item where item[prop] === value, or the given function returns true. In the latter case, this is identical to Array.find(). Parameters: Name Type Argument Description propOrFn string | function The property to test against, or the function to test with value * &lt;optional&gt; The expected value - only applicable and required if using a property for the first argument Inherited From: Collection#find Source: Collection.js, line 136 Returns: Type * Examples collection.find('username', 'Bob'); collection.find(val =&gt; val.username === 'Bob'); findAll(prop, value) Returns an array of items where item[prop] === value of the collection Parameters: Name Type Description prop string The property to test against value * The expected value Inherited From: Collection#findAll Source: Collection.js, line 114 Returns: Type array Example collection.findAll('username', 'Bob'); findKey(propOrFn [, value]) Returns the key of the item where item[prop] === value, or the given function returns true. In the latter case, this is identical to Array.findIndex(). Parameters: Name Type Argument Description propOrFn string | function The property to test against, or the function to test with value * &lt;optional&gt; The expected value - only applicable and required if using a property for the first argument Inherited From: Collection#findKey Source: Collection.js, line 167 Returns: Type * Examples collection.findKey('username', 'Bob'); collection.findKey(val =&gt; val.username === 'Bob'); first() Returns the first item in this collection. Inherited From: Collection#first Source: Collection.js, line 54 Returns: Type * firstKey() Returns the first key in this collection. Inherited From: Collection#firstKey Source: Collection.js, line 62 Returns: Type * get(repo) Get all the channels for a specific repo Parameters: Name Type Description repo String The repo's full name to look up Source: ChannelConf.js, line 81 Returns: An array of all the channel ids and repos as an object, i.e. [ { channel_id: 'CHANNELID', repo: 'hydrabolt/discord.js'} ] Type Array.&lt;Object&gt; init() Inits the channel configuration by getting database rows and setting them to channelconf variable Source: ChannelConf.js, line 35 Returns: void keyArray() Creates an ordered array of the keys of this collection, and caches it internally. The array will only be reconstructed if an item is added to or removed from the collection, or if you add/remove elements on the array. Inherited From: Collection#keyArray Source: Collection.js, line 45 Returns: Type Array Example // identical to: Array.from(collection.keys()); last() Returns the last item in this collection. This is a relatively slow operation, since an array copy of the values must be made to find the last element. Inherited From: Collection#last Source: Collection.js, line 71 Returns: Type * lastKey() Returns the last key in this collection. This is a relatively slow operation, since an array copy of the keys must be made to find the last element. Inherited From: Collection#lastKey Source: Collection.js, line 81 Returns: Type * map(fn [, thisArg]) Identical to Array.map(). Parameters: Name Type Argument Description fn function Function that produces an element of the new array, taking three arguments thisArg * &lt;optional&gt; Value to use as this when executing function Inherited From: Collection#map Source: Collection.js, line 222 Returns: Type array random() Returns a random item from this collection. This is a relatively slow operation, since an array copy of the values must be made to find a random element. Inherited From: Collection#random Source: Collection.js, line 91 Returns: Type * randomKey() Returns a random key from this collection. This is a relatively slow operation, since an array copy of the keys must be made to find a random element. Inherited From: Collection#randomKey Source: Collection.js, line 101 Returns: Type * reduce(fn [, startVal]) Identical to Array.reduce(). Parameters: Name Type Argument Description fn function Function used to reduce startVal * &lt;optional&gt; The starting value Inherited From: Collection#reduce Source: Collection.js, line 267 Returns: Type * some(fn [, thisArg]) Identical to Array.some(). Parameters: Name Type Argument Description fn function Function used to test (should return a boolean) thisArg Object &lt;optional&gt; Value to use as this when executing function Inherited From: Collection#some Source: Collection.js, line 237 Returns: Type boolean × Search results Close "},"Collection.html":{"id":"Collection.html","title":"Class: Collection","body":" Yappy, the Github Monitor Classes ChannelConfCollectionLoggerServerConfUtil Class: Collection Collection A utility class to help make it easier to access the data stores new Collection() Source: Collection.js, line 5 Extends Map Methods array() Creates an ordered array of the values of this collection, and caches it internally. The array will only be reconstructed if an item is added to or removed from the collection, or if you add/remove elements on the array. Source: Collection.js, line 32 Returns: Type Array Example // identical to: Array.from(collection.values()); concat(collections) Combines this collection with others into a new collection. None of the source collections are modified. Parameters: Name Type Argument Description collections Collection &lt;repeatable&gt; Collections to merge Source: Collection.js, line 279 Returns: Type Collection Example const newColl = someColl.concat(someOtherColl, anotherColl, ohBoyAColl); deleteAll() If the items in this collection have a delete method (e.g. messages), invoke the delete method. Returns an array of promises Source: Collection.js, line 293 Returns: Type Array.&lt;Promise&gt; every(fn [, thisArg]) Identical to Array.every(). Parameters: Name Type Argument Description fn function Function used to test (should return a boolean) thisArg Object &lt;optional&gt; Value to use as this when executing function Source: Collection.js, line 252 Returns: Type boolean exists(prop, value) Returns true if the collection has an item where item[prop] === value Parameters: Name Type Description prop string The property to test against value * The expected value Source: Collection.js, line 194 Returns: Type boolean Example if (collection.exists('username', 'Bob')) { console.log('user here!'); } filter(fn [, thisArg]) Identical to Array.filter(), but returns a Collection instead of an Array. Parameters: Name Type Argument Description fn function Function used to test (should return a boolean) thisArg Object &lt;optional&gt; Value to use as this when executing function Source: Collection.js, line 206 Returns: Type Collection find(propOrFn [, value]) Returns a single item where item[prop] === value, or the given function returns true. In the latter case, this is identical to Array.find(). Parameters: Name Type Argument Description propOrFn string | function The property to test against, or the function to test with value * &lt;optional&gt; The expected value - only applicable and required if using a property for the first argument Source: Collection.js, line 136 Returns: Type * Examples collection.find('username', 'Bob'); collection.find(val =&gt; val.username === 'Bob'); findAll(prop, value) Returns an array of items where item[prop] === value of the collection Parameters: Name Type Description prop string The property to test against value * The expected value Source: Collection.js, line 114 Returns: Type array Example collection.findAll('username', 'Bob'); findKey(propOrFn [, value]) Returns the key of the item where item[prop] === value, or the given function returns true. In the latter case, this is identical to Array.findIndex(). Parameters: Name Type Argument Description propOrFn string | function The property to test against, or the function to test with value * &lt;optional&gt; The expected value - only applicable and required if using a property for the first argument Source: Collection.js, line 167 Returns: Type * Examples collection.findKey('username', 'Bob'); collection.findKey(val =&gt; val.username === 'Bob'); first() Returns the first item in this collection. Source: Collection.js, line 54 Returns: Type * firstKey() Returns the first key in this collection. Source: Collection.js, line 62 Returns: Type * keyArray() Creates an ordered array of the keys of this collection, and caches it internally. The array will only be reconstructed if an item is added to or removed from the collection, or if you add/remove elements on the array. Source: Collection.js, line 45 Returns: Type Array Example // identical to: Array.from(collection.keys()); last() Returns the last item in this collection. This is a relatively slow operation, since an array copy of the values must be made to find the last element. Source: Collection.js, line 71 Returns: Type * lastKey() Returns the last key in this collection. This is a relatively slow operation, since an array copy of the keys must be made to find the last element. Source: Collection.js, line 81 Returns: Type * map(fn [, thisArg]) Identical to Array.map(). Parameters: Name Type Argument Description fn function Function that produces an element of the new array, taking three arguments thisArg * &lt;optional&gt; Value to use as this when executing function Source: Collection.js, line 222 Returns: Type array random() Returns a random item from this collection. This is a relatively slow operation, since an array copy of the values must be made to find a random element. Source: Collection.js, line 91 Returns: Type * randomKey() Returns a random key from this collection. This is a relatively slow operation, since an array copy of the keys must be made to find a random element. Source: Collection.js, line 101 Returns: Type * reduce(fn [, startVal]) Identical to Array.reduce(). Parameters: Name Type Argument Description fn function Function used to reduce startVal * &lt;optional&gt; The starting value Source: Collection.js, line 267 Returns: Type * some(fn [, thisArg]) Identical to Array.some(). Parameters: Name Type Argument Description fn function Function used to test (should return a boolean) thisArg Object &lt;optional&gt; Value to use as this when executing function Source: Collection.js, line 237 Returns: Type boolean × Search results Close "},"Logger.html":{"id":"Logger.html","title":"Class: Logger","body":" Yappy, the Github Monitor Classes ChannelConfCollectionLoggerServerConfUtil Class: Logger Logger A Logger to replace console.log. It logs to the console, web, AND LogDNA new Logger() Source: Logger.js, line 25 Members logs Get all the logs from the latest run Source: Logger.js, line 116 Methods debug() Debug it like you would console.log it ;) Parameters: Name Type Description ...args Mixed all the arguments Source: Logger.js, line 43 &lt;private&gt; emit() Emit to socket.io and push to the logs Source: Logger.js, line 124 error() You gotta error it to me ;(( Parameters: Name Type Description ...args Mixed all the arguments Source: Logger.js, line 67 github() Log something about github, self-explanatory (right?) Parameters: Name Type Description ...args Mixed all the arguments Source: Logger.js, line 51 info() Give me some info, pls Parameters: Name Type Description ...args Mixed all the arguments Source: Logger.js, line 59 &lt;private&gt; log(level, message) Log, with the level and the message Parameters: Name Type Description level String log level, i.e: error message Mixed actual message, ya know? Source: Logger.js, line 99 message() Log a message! Parameters: Name Type Description ...args Mixed all the arguments Source: Logger.js, line 78 on(event, cb) Parameters: Name Type Description event String what kind of log cb cb callback Source: Logger.js, line 87 × Search results Close "},"ServerConf.html":{"id":"ServerConf.html","title":"Class: ServerConf","body":" Yappy, the Github Monitor Classes ChannelConfCollectionLoggerServerConfUtil Class: ServerConf ServerConf A channel configuration class to add, set, delete repo events config from channels new ServerConf() Source: ServerConf.js, line 42 Extends Collection Methods add(guild) Create guild config Parameters: Name Type Description guild String The guild's object Source: ServerConf.js, line 82 Returns: Type Promise.&lt;Object&gt; array() Creates an ordered array of the values of this collection, and caches it internally. The array will only be reconstructed if an item is added to or removed from the collection, or if you add/remove elements on the array. Inherited From: Collection#array Source: Collection.js, line 32 Returns: Type Array Example // identical to: Array.from(collection.values()); concat(collections) Combines this collection with others into a new collection. None of the source collections are modified. Parameters: Name Type Argument Description collections Collection &lt;repeatable&gt; Collections to merge Inherited From: Collection#concat Source: Collection.js, line 279 Returns: Type Collection Example const newColl = someColl.concat(someOtherColl, anotherColl, ohBoyAColl); deleteAll() If the items in this collection have a delete method (e.g. messages), invoke the delete method. Returns an array of promises Inherited From: Collection#deleteAll Source: Collection.js, line 293 Returns: Type Array.&lt;Promise&gt; destroy(server_id) Delete a spefic server's repo configuration Parameters: Name Type Description server_id String The channel id for which to delete the info Source: ServerConf.js, line 181 Returns: Returns a promise resolving all the channel conf Type Promise.&lt;Collection&gt; every(fn [, thisArg]) Identical to Array.every(). Parameters: Name Type Argument Description fn function Function used to test (should return a boolean) thisArg Object &lt;optional&gt; Value to use as this when executing function Inherited From: Collection#every Source: Collection.js, line 252 Returns: Type boolean exists(prop, value) Returns true if the collection has an item where item[prop] === value Parameters: Name Type Description prop string The property to test against value * The expected value Inherited From: Collection#exists Source: Collection.js, line 194 Returns: Type boolean Example if (collection.exists('username', 'Bob')) { console.log('user here!'); } filter(fn [, thisArg]) Identical to Array.filter(), but returns a Collection instead of an Array. Parameters: Name Type Argument Description fn function Function used to test (should return a boolean) thisArg Object &lt;optional&gt; Value to use as this when executing function Inherited From: Collection#filter Source: Collection.js, line 206 Returns: Type Collection find(propOrFn [, value]) Returns a single item where item[prop] === value, or the given function returns true. In the latter case, this is identical to Array.find(). Parameters: Name Type Argument Description propOrFn string | function The property to test against, or the function to test with value * &lt;optional&gt; The expected value - only applicable and required if using a property for the first argument Inherited From: Collection#find Source: Collection.js, line 136 Returns: Type * Examples collection.find('username', 'Bob'); collection.find(val =&gt; val.username === 'Bob'); findAll(prop, value) Returns an array of items where item[prop] === value of the collection Parameters: Name Type Description prop string The property to test against value * The expected value Inherited From: Collection#findAll Source: Collection.js, line 114 Returns: Type array Example collection.findAll('username', 'Bob'); findKey(propOrFn [, value]) Returns the key of the item where item[prop] === value, or the given function returns true. In the latter case, this is identical to Array.findIndex(). Parameters: Name Type Argument Description propOrFn string | function The property to test against, or the function to test with value * &lt;optional&gt; The expected value - only applicable and required if using a property for the first argument Inherited From: Collection#findKey Source: Collection.js, line 167 Returns: Type * Examples collection.findKey('username', 'Bob'); collection.findKey(val =&gt; val.username === 'Bob'); first() Returns the first item in this collection. Inherited From: Collection#first Source: Collection.js, line 54 Returns: Type * firstKey() Returns the first key in this collection. Inherited From: Collection#firstKey Source: Collection.js, line 62 Returns: Type * grab(server_id) Get the server config for a spefic server Parameters: Name Type Description server_id String The channel's id Source: ServerConf.js, line 107 Returns: The server's config Type ServerConfig init() Inits the guilds configuration by getting database rows, and initializes guilds that don't have config yet Source: ServerConf.js, line 48 Returns: void keyArray() Creates an ordered array of the keys of this collection, and caches it internally. The array will only be reconstructed if an item is added to or removed from the collection, or if you add/remove elements on the array. Inherited From: Collection#keyArray Source: Collection.js, line 45 Returns: Type Array Example // identical to: Array.from(collection.keys()); last() Returns the last item in this collection. This is a relatively slow operation, since an array copy of the values must be made to find the last element. Inherited From: Collection#last Source: Collection.js, line 71 Returns: Type * lastKey() Returns the last key in this collection. This is a relatively slow operation, since an array copy of the keys must be made to find the last element. Inherited From: Collection#lastKey Source: Collection.js, line 81 Returns: Type * map(fn [, thisArg]) Identical to Array.map(). Parameters: Name Type Argument Description fn function Function that produces an element of the new array, taking three arguments thisArg * &lt;optional&gt; Value to use as this when executing function Inherited From: Collection#map Source: Collection.js, line 222 Returns: Type array random() Returns a random item from this collection. This is a relatively slow operation, since an array copy of the values must be made to find a random element. Inherited From: Collection#random Source: Collection.js, line 91 Returns: Type * randomKey() Returns a random key from this collection. This is a relatively slow operation, since an array copy of the keys must be made to find a random element. Inherited From: Collection#randomKey Source: Collection.js, line 101 Returns: Type * reduce(fn [, startVal]) Identical to Array.reduce(). Parameters: Name Type Argument Description fn function Function used to reduce startVal * &lt;optional&gt; The starting value Inherited From: Collection#reduce Source: Collection.js, line 267 Returns: Type * some(fn [, thisArg]) Identical to Array.some(). Parameters: Name Type Argument Description fn function Function used to test (should return a boolean) thisArg Object &lt;optional&gt; Value to use as this when executing function Inherited From: Collection#some Source: Collection.js, line 237 Returns: Type boolean × Search results Close "},"Util.html":{"id":"Util.html","title":"Class: Util","body":" Yappy, the Github Monitor Classes ChannelConfCollectionLoggerServerConfUtil Class: Util Util Contains general utility methods new Util() Source: Util.js, line 2 Methods EscapeMarkdown(text) Escapes Markdown in the string Parameters: Name Type Description text string The text to escape Source: Util.js, line 87 Returns: The escaped text Type string Pad(string, length) Add padding to the right of a string Parameters: Name Type Description string String The string to pad length Integer Length of final string Source: Util.js, line 78 Returns: The string with padding on the right Type String Paginate(items [, page] [, pageLength]) Paginate an array of items Parameters: Name Type Argument Default Description items Array.&lt;Object&gt; An array of items to paginate page number &lt;optional&gt; 1 The page to select pageLength number &lt;optional&gt; 10 The number of items per page Properties: Name Type Description items Array.&lt;Object&gt; The chunk of items for the current page page number The current page maxPage number The maximum page pageLength number The numer of items per page pageText string The current page string (&quot;page x of y&quot;) Source: Util.js, line 17 See: BotUtil#paginate Returns: The resulting paginated object Type Object Search(items, searchString, options) Search for matches in a list of items Parameters: Name Type Description items Array.&lt;Object&gt; An array of items to search in searchString string The string to search for options SearchOptions An options object Source: Util.js, line 39 See: BotUtil#search Returns: The matched items Type Array.&lt;Object&gt; × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
